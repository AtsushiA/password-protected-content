(()=>{"use strict";var e,t={984(){const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,o=window.wp.components,n=window.wp.element,r=window.ReactJSXRuntime,c=JSON.parse('{"UU":"telex/password-protected-content"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{password:d,lockedMessage:a,content:l,linkUrl:p,linkText:i,linkTarget:_}=e,[h,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{d&&""!==d.trim()?w(!1):w(!0)},[d]);const x=(0,s.useBlockProps)({className:"password-protected-content-editor"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.InspectorControls,{children:[(0,r.jsxs)(o.PanelBody,{title:(0,t.__)("パスワード設定","password-protected-content"),children:[(0,r.jsx)(o.TextControl,{label:(0,t.__)("パスワード","password-protected-content"),value:d,onChange:e=>c({password:e}),help:(0,t.__)("コンテンツを保護するパスワードを設定してください","password-protected-content"),type:"text"}),(0,r.jsx)(o.TextControl,{label:(0,t.__)("非公開時のメッセージ","password-protected-content"),value:a,onChange:e=>c({lockedMessage:e}),help:(0,t.__)("パスワード入力前に表示されるメッセージ","password-protected-content")})]}),(0,r.jsxs)(o.PanelBody,{title:(0,t.__)("リンク設定","password-protected-content"),initialOpen:!1,children:[(0,r.jsx)(o.TextControl,{label:(0,t.__)("リンクURL","password-protected-content"),value:p,onChange:e=>c({linkUrl:e}),help:(0,t.__)("コンテンツ内に表示するリンクのURL","password-protected-content"),type:"url",placeholder:"https://example.com"}),(0,r.jsx)(o.TextControl,{label:(0,t.__)("ボタンテキスト","password-protected-content"),value:i,onChange:e=>c({linkText:e}),help:(0,t.__)("リンクボタンに表示するテキスト","password-protected-content")}),(0,r.jsx)(o.ToggleControl,{label:(0,t.__)("新しいタブで開く","password-protected-content"),checked:"_blank"===_,onChange:e=>c({linkTarget:e?"_blank":"_self"})})]})]}),(0,r.jsxs)("div",{...x,children:[h&&(0,r.jsx)(o.Notice,{status:"warning",isDismissible:!1,children:(0,t.__)("⚠️ パスワードが設定されていません。サイドバーからパスワードを設定してください。","password-protected-content")}),(0,r.jsxs)("div",{className:"password-protected-content-editor__header",children:[(0,r.jsx)("span",{className:"dashicon dashicons dashicons-lock"}),(0,r.jsx)("h3",{children:(0,t.__)("パスワード保護コンテンツ","password-protected-content")})]}),(0,r.jsxs)("div",{className:"password-protected-content-editor__locked-message",children:[(0,r.jsx)("strong",{children:(0,t.__)("非公開時のメッセージ:","password-protected-content")}),(0,r.jsx)("p",{children:a||(0,t.__)("メッセージが設定されていません","password-protected-content")})]}),(0,r.jsxs)("div",{className:"password-protected-content-editor__content",children:[(0,r.jsx)("label",{children:(0,t.__)("保護されるコンテンツ (この内容は暗号化されます):","password-protected-content")}),(0,r.jsx)(s.RichText,{tagName:"div",value:l,onChange:e=>c({content:e}),placeholder:(0,t.__)("パスワードで保護するコンテンツを入力...","password-protected-content"),multiline:"p"})]}),p&&(0,r.jsxs)("div",{className:"password-protected-content-editor__link-preview",children:[(0,r.jsx)("strong",{children:(0,t.__)("リンクプレビュー:","password-protected-content")}),(0,r.jsxs)("div",{className:"link-button-preview",children:[(0,r.jsx)("span",{className:"dashicon dashicons dashicons-admin-links"}),i||(0,t.__)("詳細を見る","password-protected-content"),"_blank"===_&&(0,r.jsx)("span",{className:"dashicon dashicons dashicons-external"})]}),(0,r.jsxs)("small",{children:["URL: ",p]})]}),d&&(0,r.jsx)("div",{className:"password-protected-content-editor__info",children:(0,r.jsxs)("p",{children:[(0,t.__)("✓ パスワード設定済み","password-protected-content")," • ",(0,t.__)("フロントエンドでは暗号化されて表示されます","password-protected-content")]})})]})]})}})}},s={};function o(e){var n=s[e];if(void 0!==n)return n.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,s,n,r)=>{if(!s){var c=1/0;for(p=0;p<e.length;p++){for(var[s,n,r]=e[p],d=!0,a=0;a<s.length;a++)(!1&r||c>=r)&&Object.keys(o.O).every(e=>o.O[e](s[a]))?s.splice(a--,1):(d=!1,r<c&&(c=r));if(d){e.splice(p--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[s,n,r]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,s)=>{var n,r,[c,d,a]=s,l=0;if(c.some(t=>0!==e[t])){for(n in d)o.o(d,n)&&(o.m[n]=d[n]);if(a)var p=a(o)}for(t&&t(s);l<c.length;l++)r=c[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(p)},s=globalThis.webpackChunkpassword_protected_content=globalThis.webpackChunkpassword_protected_content||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=o.O(void 0,[350],()=>o(984));n=o.O(n)})();